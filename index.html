<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>北海道雪國物語</title>
    
    <!-- iPhone 專屬設定：讓網頁變成全螢幕 App -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="北海道之旅">
    <link rel="apple-touch-icon" href="https://images.unsplash.com/photo-1548263594-a71ea196f978?q=80&w=180&auto=format&fit=crop">

    <!-- 載入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 設定 Tailwind 字型與顏色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', "Segoe UI", 'Roboto', "Helvetica Neue", 'Arial', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        /* 隱藏捲軸但保留功能 */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* iOS Safe Area 修正 */
        .safe-area-pb {
            padding-bottom: env(safe-area-inset-bottom);
        }
        /* 防止 iOS 點擊反灰 */
        * {
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <!-- 載入 React 和 Lucide Icons (使用 ES Modules) -->
    <script type="module">
        import React, { useState, useEffect } from 'https://esm.sh/react@18.2.0';
        import ReactDOM from 'https://esm.sh/react-dom@18.2.0/client';
        import { 
            Plane, MapPin, Calendar, Clock, Utensils, BedDouble, 
            ChevronDown, ChevronUp, Snowflake, Camera, ShoppingBag, 
            Ticket, Heart, Share2, ArrowRight 
        } from 'https://esm.sh/lucide-react@0.344.0';

        const HokkaidoTripApp = () => {
            const [activeTab, setActiveTab] = useState('itinerary');
            const [expandedDay, setExpandedDay] = useState(0);
            const [liked, setLiked] = useState(false);
            const [showBookingModal, setShowBookingModal] = useState(false);

            // 模擬行程資料
            const tripDetails = {
                title: "北海道雪國物語．破冰船．阿寒湖冰上嘉年華．三大蟹溫泉5日",
                price: "45,900",
                date: "2026/02/08 (日) - 02/12 (四)",
                airline: "長榮航空 (EVA AIR)",
                flightOut: "BR116 桃園 09:30 - 新千歲 14:05",
                flightIn: "BR115 新千歲 15:20 - 桃園 19:00",
                tags: ["保證入住溫泉飯店", "三大蟹吃到飽", "流冰體驗", "雪上活動"],
                weather: { temp: "-5°C", condition: "大雪" }
            };

            const itinerary = [
                {
                    day: 1,
                    title: "出發與抵達：桃園 / 千歲空港 / 支笏湖國立公園",
                    date: "02/08 (日)",
                    highlights: ["全日本第二深湖泊", "支笏湖冰濤祭(預定)"],
                    details: "搭乘長榮航空波音客機直飛北海道。抵達後前往支笏湖，欣賞清澈湖水與壯麗的惠庭岳，若時間允許將參觀冬季限定的冰濤祭。",
                    meals: { b: "機上精緻餐食", l: "機上精緻餐食", d: "飯店內迎賓會席料理 或 自助百匯" },
                    hotel: "定山溪 萬世閣 或 同級溫泉飯店",
                    icon: React.createElement(Plane, { className: "w-5 h-5 text-blue-500" })
                },
                {
                    day: 2,
                    title: "雪上樂園 / 小樽運河 / 音樂盒堂 / 札幌",
                    date: "02/09 (一)",
                    highlights: ["雪上甜甜圈無限玩", "小樽羅曼蒂克街道", "北菓樓妖精之森"],
                    details: "上午前往滑雪場體驗戲雪樂趣。下午漫步於充滿大正浪漫氣息的小樽運河，參觀北一硝子館與音樂盒堂，品嚐不思議大泡芙。",
                    meals: { b: "飯店內早餐", l: "日式石狩鍋+烤魚料理", d: "三大蟹吃到飽+軟飲無限" },
                    hotel: "札幌 Royton 或 Premier Hotel Tsubaki",
                    icon: React.createElement(Snowflake, { className: "w-5 h-5 text-cyan-500" })
                },
                {
                    day: 3,
                    title: "札幌市區觀光 / 大通公園 / 免稅店 / 狸小路",
                    date: "02/10 (二)",
                    highlights: ["第76屆札幌雪祭(預定)", "時計台", "狸小路商店街"],
                    details: "參觀北海道神宮，接著前往大通公園欣賞著名的札幌雪祭（視日期而定）。下午前往免稅店與狸小路自由購物。",
                    meals: { b: "飯店內早餐", l: "北海道風味燒肉", d: "方便逛街，敬請自理" },
                    hotel: "札幌 Royton 或 Premier Hotel Tsubaki",
                    icon: React.createElement(Camera, { className: "w-5 h-5 text-purple-500" })
                },
                {
                    day: 4,
                    title: "自由活動日 (Free Time)",
                    date: "02/11 (三)",
                    highlights: ["全日自由活動", "探索札幌美食", "地鐵自由行"],
                    details: "全日自由活動。您可自行前往二條市場品嚐海鮮丼，或搭乘地鐵前往白色戀人公園，享受屬於您的北海道時光。",
                    meals: { b: "飯店內早餐", l: "方便遊玩，敬請自理", d: "方便遊玩，敬請自理" },
                    hotel: "札幌 Royton 或 Premier Hotel Tsubaki",
                    icon: React.createElement(MapPin, { className: "w-5 h-5 text-green-500" })
                },
                {
                    day: 5,
                    title: "三井Outlet Park / 千歲空港 / 桃園",
                    date: "02/12 (四)",
                    highlights: ["最後掃貨", "滿載而歸"],
                    details: "早餐後前往北廣島三井Outlet Park，囊括多國知名品牌。隨後前往機場搭機返回溫暖的家。",
                    meals: { b: "飯店內早餐", l: "機上精緻餐食", d: "溫暖的家" },
                    hotel: "溫暖的家",
                    icon: React.createElement(ShoppingBag, { className: "w-5 h-5 text-red-500" })
                }
            ];

            const [scrollY, setScrollY] = useState(0);
            useEffect(() => {
                const handleScroll = () => setScrollY(window.scrollY);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                React.createElement("div", { className: "min-h-screen bg-gray-50 font-sans pb-24 relative overflow-hidden select-none" },
                    // Hero Section
                    React.createElement("div", { className: "relative h-[380px] w-full overflow-hidden" },
                        React.createElement("div", { 
                            className: "absolute inset-0 bg-gradient-to-b from-blue-300 via-blue-100 to-white",
                            style: { transform: `translateY(${scrollY * 0.5}px)` }
                        },
                            React.createElement("div", { className: "absolute top-10 left-10 text-white opacity-50" }, React.createElement(Snowflake, { size: 40 })),
                            React.createElement("div", { className: "absolute top-20 right-20 text-white opacity-40" }, React.createElement(Snowflake, { size: 60 })),
                            React.createElement("div", { className: "absolute bottom-32 left-1/3 text-blue-200 opacity-60" }, React.createElement(Snowflake, { size: 100 })),
                            React.createElement("div", { className: "absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-gray-900/80 to-transparent z-10" })
                        ),
                        // 頂部導航
                        React.createElement("div", { className: "absolute top-0 left-0 right-0 p-4 z-20 flex justify-between items-center pt-safe" },
                             React.createElement("div", { className: "bg-white/20 backdrop-blur-md p-2 rounded-full cursor-pointer hover:bg-white/30 transition" },
                                React.createElement(ArrowRight, { className: "text-white rotate-180", size: 24 })
                             ),
                             React.createElement("div", { className: "flex gap-3" },
                                React.createElement("div", { 
                                    onClick: () => setLiked(!liked),
                                    className: "bg-white/20 backdrop-blur-md p-2 rounded-full cursor-pointer hover:bg-white/30 transition"
                                }, React.createElement(Heart, { className: liked ? 'fill-red-500 text-red-500' : 'text-white', size: 24 })),
                                React.createElement("div", { className: "bg-white/20 backdrop-blur-md p-2 rounded-full cursor-pointer hover:bg-white/30 transition" },
                                    React.createElement(Share2, { className: "text-white", size: 24 })
                                )
                             )
                        ),
                        // 標題
                        React.createElement("div", { className: "absolute bottom-6 left-4 right-4 z-20 text-white" },
                            React.createElement("div", { className: "flex items-center gap-2 mb-2" },
                                React.createElement("span", { className: "bg-blue-600 text-xs font-bold px-2 py-1 rounded-md" }, "可樂旅遊"),
                                React.createElement("span", { className: "bg-white/20 backdrop-blur-sm text-xs px-2 py-1 rounded-md border border-white/30" }, `${tripDetails.weather.temp} ${tripDetails.weather.condition}`)
                            ),
                            React.createElement("h1", { className: "text-2xl font-bold leading-tight mb-2 shadow-sm" }, tripDetails.title),
                            React.createElement("div", { className: "flex items-center text-sm text-gray-200 gap-1" },
                                React.createElement(Calendar, { size: 14 }),
                                React.createElement("span", null, tripDetails.date),
                                React.createElement("span", { className: "mx-1" }, "|"),
                                React.createElement(Plane, { size: 14 }),
                                React.createElement("span", null, "5 天 4 夜")
                            )
                        )
                    ),

                    // 內容區
                    React.createElement("div", { className: "relative z-30 -mt-6 bg-gray-50 rounded-t-3xl px-4 pt-6" },
                        
                        // Tags
                        React.createElement("div", { className: "flex overflow-x-auto gap-3 pb-4 no-scrollbar" },
                            tripDetails.tags.map((tag, idx) => 
                                React.createElement("span", { key: idx, className: "whitespace-nowrap bg-white text-blue-600 text-sm font-medium px-4 py-2 rounded-full shadow-sm border border-blue-50" }, `# ${tag}`)
                            )
                        ),

                        // 航班
                        React.createElement("div", { className: "bg-white p-4 rounded-2xl shadow-sm mb-6 border border-gray-100" },
                             React.createElement("h3", { className: "text-gray-500 text-xs font-bold uppercase tracking-wider mb-3" }, "航班資訊"),
                             React.createElement("div", { className: "flex justify-between items-center mb-4" },
                                React.createElement("div", { className: "text-center" },
                                    React.createElement("div", { className: "text-2xl font-bold text-gray-800" }, "TPE"),
                                    React.createElement("div", { className: "text-xs text-gray-500" }, "台北桃園")
                                ),
                                React.createElement("div", { className: "flex-1 flex flex-col items-center px-4" },
                                    React.createElement("span", { className: "text-xs text-blue-600 font-medium" }, tripDetails.airline),
                                    React.createElement("div", { className: "w-full h-[1px] bg-gray-300 relative my-2" },
                                        React.createElement(Plane, { className: "absolute -top-2 left-1/2 -translate-x-1/2 text-blue-400 rotate-90 bg-white px-1", size: 16 })
                                    ),
                                    React.createElement("span", { className: "text-xs text-gray-400" }, "約 4h 35m")
                                ),
                                React.createElement("div", { className: "text-center" },
                                    React.createElement("div", { className: "text-2xl font-bold text-gray-800" }, "CTS"),
                                    React.createElement("div", { className: "text-xs text-gray-500" }, "札幌新千歲")
                                )
                             ),
                             React.createElement("div", { className: "bg-gray-50 rounded-lg p-3 text-xs text-gray-600 space-y-1" },
                                React.createElement("div", { className: "flex justify-between" },
                                    React.createElement("span", null, "去程"),
                                    React.createElement("span", { className: "font-mono font-medium text-gray-900" }, tripDetails.flightOut)
                                ),
                                React.createElement("div", { className: "flex justify-between" },
                                    React.createElement("span", null, "回程"),
                                    React.createElement("span", { className: "font-mono font-medium text-gray-900" }, tripDetails.flightIn)
                                )
                             )
                        ),

                        // Tabs
                        React.createElement("div", { className: "flex border-b border-gray-200 mb-6 sticky top-0 bg-gray-50 z-40 pt-2" },
                            ['itinerary', 'highlights', 'notice'].map(tab => {
                                const labels = { itinerary: '每日行程', highlights: '行程亮點', notice: '注意事項' };
                                return React.createElement("button", {
                                    key: tab,
                                    onClick: () => setActiveTab(tab),
                                    className: `flex-1 pb-3 text-sm font-medium transition-colors relative ${activeTab === tab ? 'text-blue-600' : 'text-gray-400'}`
                                }, 
                                    labels[tab],
                                    activeTab === tab && React.createElement("div", { className: "absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-1 bg-blue-600 rounded-t-full" })
                                )
                            })
                        ),

                        // Tab Content: Itinerary
                        activeTab === 'itinerary' && React.createElement("div", { className: "space-y-4" },
                            itinerary.map((item, index) => {
                                const isExpanded = expandedDay === index;
                                return React.createElement("div", {
                                    key: index,
                                    onClick: () => setExpandedDay(isExpanded ? null : index),
                                    className: `bg-white rounded-2xl overflow-hidden transition-all duration-300 border ${isExpanded ? 'border-blue-200 shadow-md scale-[1.01]' : 'border-gray-100 shadow-sm'}`
                                },
                                    React.createElement("div", { className: "p-4 flex items-start gap-4 cursor-pointer" },
                                        React.createElement("div", { className: `flex flex-col items-center justify-center w-12 h-14 rounded-xl shrink-0 ${isExpanded ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-500'}` },
                                            React.createElement("span", { className: "text-xs font-medium" }, "Day"),
                                            React.createElement("span", { className: "text-xl font-bold leading-none" }, item.day)
                                        ),
                                        React.createElement("div", { className: "flex-1 min-w-0" },
                                            React.createElement("div", { className: "text-xs text-gray-500 mb-1" }, item.date),
                                            React.createElement("h3", { className: `font-bold text-base truncate ${isExpanded ? 'text-blue-700' : 'text-gray-800'}` }, item.title),
                                            !isExpanded && React.createElement("div", { className: "flex gap-2 mt-2" },
                                                item.highlights.slice(0, 2).map((h, i) => 
                                                    React.createElement("span", { key: i, className: "text-[10px] bg-gray-100 text-gray-600 px-2 py-0.5 rounded-md" }, h)
                                                )
                                            )
                                        ),
                                        React.createElement("div", { className: "mt-2 text-gray-400" },
                                            React.createElement(isExpanded ? ChevronUp : ChevronDown, { size: 20 })
                                        )
                                    ),
                                    isExpanded && React.createElement("div", { className: "px-4 pb-5 pt-0 animate-in fade-in slide-in-from-top-2 duration-300" },
                                        React.createElement("div", { className: "w-full h-px bg-gray-100 mb-4" }),
                                        React.createElement("div", { className: "text-sm text-gray-600 leading-relaxed mb-4" }, item.details),
                                        React.createElement("div", { className: "flex flex-wrap gap-2 mb-4" },
                                            item.highlights.map((h, i) => 
                                                React.createElement("div", { key: i, className: "flex items-center gap-1 text-xs font-medium text-amber-600 bg-amber-50 px-2 py-1 rounded-md border border-amber-100" },
                                                    React.createElement(Ticket, { size: 12 }), h
                                                )
                                            )
                                        ),
                                        React.createElement("div", { className: "bg-gray-50 rounded-xl p-3 space-y-2" },
                                            React.createElement("div", { className: "flex items-start gap-3" },
                                                React.createElement(Utensils, { className: "text-gray-400 mt-0.5", size: 16 }),
                                                React.createElement("div", { className: "text-xs text-gray-600 flex-1" },
                                                    React.createElement("span", { className: "block" }, React.createElement("span", { className: "font-bold text-gray-800" }, "早："), item.meals.b),
                                                    React.createElement("span", { className: "block my-1" }, React.createElement("span", { className: "font-bold text-gray-800" }, "午："), item.meals.l),
                                                    React.createElement("span", { className: "block" }, React.createElement("span", { className: "font-bold text-gray-800" }, "晚："), item.meals.d)
                                                )
                                            ),
                                            React.createElement("div", { className: "w-full h-px bg-gray-200" }),
                                            React.createElement("div", { className: "flex items-start gap-3" },
                                                React.createElement(BedDouble, { className: "text-gray-400 mt-0.5", size: 16 }),
                                                React.createElement("div", { className: "text-xs text-gray-600 flex-1" },
                                                    React.createElement("span", { className: "font-bold text-gray-800" }, "宿："), item.hotel
                                                )
                                            )
                                        )
                                    )
                                )
                            })
                        ),

                        // Tab Content: Highlights
                        activeTab === 'highlights' && React.createElement("div", { className: "grid grid-cols-2 gap-3" },
                            React.createElement("div", { className: "col-span-2 bg-gradient-to-r from-blue-500 to-cyan-400 rounded-2xl p-5 text-white shadow-md" },
                                React.createElement(Snowflake, { className: "mb-2" }),
                                React.createElement("h3", { className: "text-lg font-bold" }, "冬季限定雪祭"),
                                React.createElement("p", { className: "text-sm opacity-90" }, "支笏湖冰濤祭、札幌雪祭，感受零下溫度的夢幻冰雪世界。")
                            ),
                            React.createElement("div", { className: "bg-white p-4 rounded-2xl shadow-sm border border-gray-100" },
                                React.createElement("div", { className: "w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-500 mb-2" }, React.createElement(Utensils, { size: 18 })),
                                React.createElement("h4", { className: "font-bold text-gray-800" }, "三大蟹吃到飽"),
                                React.createElement("p", { className: "text-xs text-gray-500 mt-1" }, "帝王蟹、長腳蟹、毛蟹任您品嚐。")
                            ),
                             React.createElement("div", { className: "bg-white p-4 rounded-2xl shadow-sm border border-gray-100" },
                                React.createElement("div", { className: "w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-500 mb-2" }, React.createElement(BedDouble, { size: 18 })),
                                React.createElement("h4", { className: "font-bold text-gray-800" }, "露天溫泉"),
                                React.createElement("p", { className: "text-xs text-gray-500 mt-1" }, "雪中泡湯，體驗身暖頭寒的極致享受。")
                            )
                        ),
                        
                        // Tab Content: Notice
                        activeTab === 'notice' && React.createElement("div", { className: "bg-white rounded-2xl p-5 shadow-sm border border-gray-100 text-sm text-gray-600 space-y-3" },
                             React.createElement("h3", { className: "font-bold text-gray-800 text-base" }, "參團注意事項"),
                             React.createElement("ul", { className: "list-disc pl-5 space-y-2" },
                                React.createElement("li", null, "日本電壓為 100V，插座與台灣相同。"),
                                React.createElement("li", null, "冬季北海道氣溫極低，請務必攜帶防寒大衣、手套、帽子及防滑鞋。"),
                                React.createElement("li", null, "此行程為 2026/02/08 出發之春節/寒假旺季檔期，機位有限。")
                             )
                        ),

                        React.createElement("div", { className: "h-20" })
                    ),

                    // Sticky Footer
                    React.createElement("div", { className: "fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 safe-area-pb z-50" },
                        React.createElement("div", { className: "flex items-center justify-between max-w-md mx-auto" },
                            React.createElement("div", { className: "flex flex-col" },
                                React.createElement("span", { className: "text-xs text-gray-500 line-through" }, "TWD 49,900"),
                                React.createElement("div", { className: "flex items-baseline gap-1" },
                                    React.createElement("span", { className: "text-sm font-bold text-red-500" }, "TWD"),
                                    React.createElement("span", { className: "text-2xl font-extrabold text-gray-900" }, tripDetails.price),
                                    React.createElement("span", { className: "text-xs text-gray-500" }, "/人")
                                )
                            ),
                            React.createElement("button", {
                                onClick: () => setShowBookingModal(true),
                                className: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-blue-200 transition-all active:scale-95 flex items-center gap-2"
                            }, "立即預訂", React.createElement(ArrowRight, { size: 18 }))
                        )
                    ),
                    
                    // Modal
                    showBookingModal && React.createElement("div", { className: "fixed inset-0 bg-black/60 z-[60] flex items-end sm:items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200" },
                        React.createElement("div", { className: "bg-white w-full max-w-sm rounded-3xl p-6 relative animate-in slide-in-from-bottom-10 duration-300" },
                            React.createElement("button", {
                                onClick: () => setShowBookingModal(false),
                                className: "absolute top-4 right-4 text-gray-400 hover:text-gray-600"
                            }, React.createElement("span", { className: "text-xl" }, "×")),
                            React.createElement("div", { className: "text-center mb-6" },
                                React.createElement("div", { className: "w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4" },
                                    React.createElement(Ticket, { size: 32 })
                                ),
                                React.createElement("h3", { className: "text-xl font-bold text-gray-900" }, "感謝您的興趣！"),
                                React.createElement("p", { className: "text-gray-500 text-sm mt-2" }, "此為 Vibe Coding 演示原型。")
                            ),
                            React.createElement("div", { className: "bg-gray-50 p-4 rounded-xl mb-6" },
                                React.createElement("div", { className: "flex justify-between text-sm mb-2" },
                                    React.createElement("span", { className: "text-gray-500" }, "出發日期"),
                                    React.createElement("span", { className: "font-bold" }, tripDetails.date.split(' ')[0])
                                ),
                                React.createElement("div", { className: "flex justify-between text-sm" },
                                    React.createElement("span", { className: "text-gray-500" }, "團費試算"),
                                    React.createElement("span", { className: "font-bold text-blue-600" }, `$${tripDetails.price} x 1`)
                                )
                            ),
                            React.createElement("button", {
                                onClick: () => setShowBookingModal(false),
                                className: "w-full bg-gray-900 text-white font-bold py-3 rounded-xl hover:bg-gray-800"
                            }, "關閉預覽")
                        )
                    )
                )
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(HokkaidoTripApp));
    </script>
</body>
</html>